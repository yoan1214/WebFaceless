---
import logo from '../assets/media/logo1.png';
import {
  FaInstagram, FaTiktok, FaYoutube, FaSoundcloud,
  FaWhatsapp,  FaDropbox,
} from 'react-icons/fa6';
import { FiMail } from 'react-icons/fi';

const social = [
  { Comp: FaInstagram,  url: 'https://www.instagram.com/chechuisfaceless/' },
  { Comp: FaTiktok,     url: 'https://www.tiktok.com/@chechuisfaceless' },
  { Comp: FaYoutube,    url: 'https://www.youtube.com/@chechuisfaceless' },
  { Comp: FaSoundcloud, url: 'https://soundcloud.com/chechuisfaceless' },
  { Comp: FiMail,       url: 'mailto:djfaceless.music@gmail.com' },
  { Comp: FaWhatsapp,   url: 'https://wa.me/34609875373' },
  { Comp: FaDropbox,    url: 'https://www.dropbox.com/scl/fo/qsqnfajth718tmobf0sq3/h?dl=0' },
];
---

<!-- ==========   TOP BAR   ========== -->
<header class="fixed inset-x-0 top-0 z-40 bg-transparent">
  <div class="flex items-center justify-between h-16 px-4 md:px-10">
    <button id="menu-open" aria-label="Abrir menú" class="p-2">
      <svg class="w-9 h-9 md:w-11 md:h-11 lg:w-13 lg:h-13"
           viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
    <a href="/" aria-label="Inicio">
      <img src={logo.src} alt="Faceless logo" class="h-24 md:h-28 lg:h-32 w-auto" />
    </a>
  </div>
</header>

<!-- ==========   OVERLAY MENU   ========== -->
<style>
  :root {
    --menu-transition: 0.35s ease;
  }

  #mobile-menu {
    transition: transform var(--menu-transition), opacity var(--menu-transition);
    transform: translateY(-100%);
    opacity: 0;
    pointer-events: none;
  }
  
  #mobile-menu.open {
    transform: translateY(0);
    opacity: 1;
    pointer-events: auto;
  }
  
  html.no-scroll {
    overflow: hidden;
  }

  .menu-container {
    position: fixed;
    inset: 0;
    z-index: 50;
    background: black;
    color: white;
    font-family: inherit;
    text-transform: uppercase;
    letter-spacing: 0.025em;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    min-height: 100dvh;
    padding: clamp(0.5rem, 2vh, 1.5rem);
  }

  .menu-close {
    position: absolute;
    top: clamp(0.75rem, 3vh, 1.5rem);
    left: clamp(0.75rem, 3vw, 1.5rem);
    z-index: 60;
    padding: 0.5rem;
  }

  .menu-close svg {
    width: clamp(20px, 4vw, 32px);
    height: clamp(20px, 4vw, 32px);
  }

  .menu-logo {
    position: absolute;
    top: clamp(1.5rem, 6vh, 3rem);
    left: 50%;
    transform: translateX(-50%);
    width: clamp(180px, 35vw, 320px);
    height: auto;
  }

  .menu-nav {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: clamp(0.75rem, 3vh, 1.5rem);
    margin-top: clamp(6rem, 20vh, 10rem);
    font-size: clamp(1.25rem, 4vw, 2.5rem);
  }

  .menu-nav a {
    transition: color 0.3s ease;
    text-decoration: none;
    white-space: nowrap;
  }

  .menu-nav a:hover {
    color: var(--brand-light, #ccc);
  }

  .menu-social {
    display: flex;
    justify-content: center;
    gap: clamp(0.75rem, 3vw, 1.25rem);
    padding-bottom: clamp(1rem, 4vh, 2rem);
  }

  .menu-social a {
    transition: color 0.3s ease;
  }

  .menu-social a:hover {
    color: var(--brand-light, #ccc);
  }

  .menu-social svg {
    width: clamp(18px, 4vw, 28px);
    height: clamp(18px, 4vw, 28px);
  }

  /* ========== LANDSCAPE: CUALQUIER PANTALLA HORIZONTAL ========== */
  @media (orientation: landscape) and (max-height: 800px) {
    .menu-container {
      display: grid;
      grid-template-rows: auto 1fr auto;
      grid-template-areas: 
        "header"
        "nav"
        "social";
      align-items: center;
      padding: clamp(0.5rem, 1.5vh, 1rem) clamp(1rem, 3vw, 2rem);
    }

    .menu-close {
      position: absolute;
      top: clamp(0.5rem, 2vh, 1rem);
      left: clamp(0.5rem, 2vw, 1rem);
    }

    .menu-logo {
      position: static;
      transform: none;
      justify-self: center;
      grid-area: header;
      width: clamp(120px, 20vw, 240px);
      margin: clamp(0.5rem, 1vh, 0.75rem) 0;
    }

    .menu-nav {
      grid-area: nav;
      margin-top: 0;
      gap: clamp(0.4rem, 1.5vh, 0.8rem);
      font-size: clamp(1rem, 2.8vw, 1.6rem);
      justify-self: center;
      align-self: center;
    }

    .menu-social {
      grid-area: social;
      padding-bottom: clamp(0.5rem, 1vh, 0.75rem);
      gap: clamp(0.5rem, 2vw, 1rem);
      justify-self: center;
    }

    .menu-social svg {
      width: clamp(14px, 2.5vw, 22px);
      height: clamp(14px, 2.5vw, 22px);
    }
  }

  /* ========== LANDSCAPE MUY ANCHO (tablets grandes, monitores) ========== */
  @media (orientation: landscape) and (min-width: 900px) and (max-height: 700px) {
    .menu-container {
      padding: clamp(0.75rem, 2vh, 1.5rem) clamp(2rem, 5vw, 4rem);
    }

    .menu-nav {
      font-size: clamp(1.1rem, 2.2vw, 1.4rem);
      gap: clamp(0.5rem, 1.8vh, 0.9rem);
    }

    .menu-logo {
      width: clamp(140px, 16vw, 200px);
    }

    .menu-social svg {
      width: clamp(16px, 2vw, 20px);
      height: clamp(16px, 2vw, 20px);
    }
  }

  /* ========== LANDSCAPE EXTREMADAMENTE ANCHO ========== */
  @media (orientation: landscape) and (min-width: 1200px) and (max-height: 700px) {
    .menu-nav {
      font-size: clamp(1.2rem, 1.8vw, 1.5rem);
      gap: clamp(0.6rem, 2vh, 1rem);
    }

    .menu-logo {
      width: clamp(160px, 14vw, 220px);
    }
  }

  /* ========== MOBILE PEQUEÑO: Portrait ========== */
  @media (orientation: portrait) and (max-width: 375px) {
    .menu-logo {
      width: 160px;
      top: 1.25rem;
    }
    
    .menu-nav {
      margin-top: 5.5rem;
      font-size: 1.1rem;
      gap: 0.6rem;
    }
  }

  /* ========== AJUSTES PARA ALTURAS MUY PEQUEÑAS ========== */
  @media (max-height: 500px) {
    .menu-container {
      display: grid;
      grid-template-rows: auto 1fr auto;
      padding: 0.5rem 1rem;
    }

    .menu-close {
      top: 0.5rem;
      left: 0.5rem;
    }

    .menu-logo {
      position: static;
      transform: none;
      justify-self: center;
      width: clamp(100px, 18vw, 150px);
      margin: 0.5rem 0;
    }

    .menu-nav {
      margin-top: 0;
      font-size: clamp(0.9rem, 3vw, 1.2rem);
      gap: clamp(0.3rem, 1.5vh, 0.6rem);
    }

    .menu-social {
      padding-bottom: 0.5rem;
      gap: 0.75rem;
    }

    .menu-social svg {
      width: 16px;
      height: 16px;
    }
  }
</style>

<div id="mobile-menu" class="menu-container">
  <!-- CLOSE BTN -->
  <button id="menu-close" aria-label="Cerrar menú" class="menu-close">
    <svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M6 6l12 12M6 18L18 6"/>
    </svg>
  </button>

  <!-- LOGO -->
  <img src={logo.src} alt="Faceless logo" class="menu-logo" />

  <!-- NAV LINKS -->
  <nav class="menu-nav">
    <a href="https://www.dropbox.com/scl/fo/qsqnfajth718tmobf0sq3/h?dl=0">Presskit</a>
    <a href="#bio">Sobre&nbsp;Mí</a>
    <a href="#shorts">Videos</a>
    <a href="#galeria-carrusel">Galería</a>
    <a href="#instagram">Social&nbsp;Media</a>
    <a data-open="contact-modal">Contacto</a>
  </nav>

  <!-- SOCIAL ICONS -->
  <div class="menu-social">
    {social.map(({ Comp, url }) => (
      <a key={url} href={url} target="_blank" rel="noopener" aria-label={Comp.name}>
        <Comp />
      </a>
    ))}
  </div>
</div>

<!-- ==========   JS   ========== -->
<script is:inline>
  const overlay  = document.getElementById('mobile-menu');
  const openBtn  = document.getElementById('menu-open');
  const closeBtn = document.getElementById('menu-close');

  if (overlay && openBtn && closeBtn) {
    const openMenu  = () => {
      overlay.classList.add('open');
      document.documentElement.classList.add('no-scroll');
    };
    
    const closeMenu = () => {
      overlay.classList.remove('open');
      document.documentElement.classList.remove('no-scroll');
    };

    openBtn.addEventListener('click', openMenu);
    closeBtn.addEventListener('click', closeMenu);
    overlay.querySelectorAll('a').forEach(a => a.addEventListener('click', closeMenu));

    // Cerrar con Escape
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && overlay.classList.contains('open')) {
        closeMenu();
      }
    });
  }
</script>